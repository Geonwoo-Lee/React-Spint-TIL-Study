# TIL 2021 - 07 - 17-19 ğŸ“– !

ì˜¤ëŠ˜ì€ MySQLë¡œ ë” ë‹¤ì–‘í•œê²ƒì„ í•´ë³´ì•˜ìŠµë‹ˆë‹¤ 

- í…Œì´ë¸” ì§€ìš°ê¸° 
```
mysql> SELECT * FROM topic;
+----+------------+-------------------+---------------------+--------+---------------------------+
| id | title      | description       | created             | author | profile                   |
+----+------------+-------------------+---------------------+--------+---------------------------+
|  1 | MySQL      | MySQL is ...      | 2021-07-18 17:59:06 | egoing | developer                 |
|  2 | Oracle     | Oracle is....     | 2021-07-18 18:01:14 | egoing | developer                 |
|  3 | SQL Server | SQL server is ... | 2021-07-18 18:02:50 |  duru  | data administrator        |
|  4 | PostgreSQL | PostgreSQL is ... | 2021-07-18 18:04:10 | taeho  | data scientist, developer |
|  5 | MongoDB    | MongoDB is ...    | 2021-07-18 18:05:07 | egoing |  developer                |
+----+------------+-------------------+---------------------+--------+---------------------------+
5 rows in set (0.01 sec)
```
ì´ë ‡ê²Œ topic ì´ë¼ëŠ” í…Œì´ë¸”ì´ ìˆëŠ”ë° 
```
DELETE FROM í…Œì´ë¸”ëª… WHERE ì§€ìš°ê³ ì‹¶ì€ê²ƒ 
```

ì´ë¼ëŠ” ëª…ë ¹ì–´ë¡œ í…Œì´ë¸”ì•ˆì— ë‚´ìš©ì„ ì§€ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤ ë§Œì•½ WHEREë¬¸ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ í…Œì´ë¸”ì˜ ë‚´ìš©ì´ ë‹¤ ì§€ì›Œ ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤ 

```
mysql> DELETE FROM topic WHERE id = 5;
Query OK, 1 row affected (0.01 sec)

mysql> SELECT * FROM topic;
+----+------------+-------------------+---------------------+--------+---------------------------+
| id | title      | description       | created             | author | profile                   |
+----+------------+-------------------+---------------------+--------+---------------------------+
|  1 | MySQL      | MySQL is ...      | 2021-07-18 17:59:06 | egoing | developer                 |
|  2 | Oracle     | Oracle is....     | 2021-07-18 18:01:14 | egoing | developer                 |
|  3 | SQL Server | SQL server is ... | 2021-07-18 18:02:50 |  duru  | data administrator        |
|  4 | PostgreSQL | PostgreSQL is ... | 2021-07-18 18:04:10 | taeho  | data scientist, developer |
+----+------------+-------------------+---------------------+--------+---------------------------+
4 rows in set (0.01 sec)
```

ë˜í•œ 
```
DROP TABLE í…Œì´ë¸”ëª…;
```
ì„ í†µí•´ì„œ í…Œì´ë¸” ìì²´ë¥¼ ì§€ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤

```
mysql> DROP TABLE topic;
Query OK, 0 rows affected (0.01 sec)
```


- í…Œì´ë¸”ì„ ìƒì„±í•˜ê³  JOIN í•˜ê¸° 
```
mysql> CREATE TABLE topic ( 
    id INT(11) NOT NULL AUTO_INCREMENT, 
    title VARCHAR(30) NOT NULL, 
    description TEXT, 
    created DATETIME NOT NULL, 
    author_id int(11) DEFAULT NULL, 
    PRIMARY KEY (id) );
Query OK, 0 rows affected, 2 warnings (0.01 sec)
```
ì´ë ‡ê²Œ ë‹¤ì‹œ topicì´ë¼ëŠ” í…Œì´ë¸”ì„ ë‚¨ê²¨ì£¼ì—ˆê³  í…Œì´ë¸”ì„ ìƒì„±í•˜ê³  ìì„¸í•œ ì„¤ëª…ì€ ì´ í¬ìŠ¤íŠ¸ ë°”ë¡œ ì „ì˜ í¬ìŠ¤íŠ¸ì— í¬ìŠ¤íŒ… ë˜ì–´ ìˆìœ¼ë‹ˆ í™•ì¸í•´ ë³´ì‹œëŠ”ê±¸ ì¶”ì²œ ë“œë¦½ë‹ˆë‹¤ ! 


```
mysql> CREATE TABLE author ( 
    id INT(11) NOT NULL AUTO_INCREMENT,
     name VARCHAR(20) NOT NULL, profile VARCHAR(200) DEFAULT NULL,
      PRIMARY KEY (id) );
Query OK, 0 rows affected, 1 warning (0.01 sec)
```
ë˜í•œ ì´ë ‡ê²Œ author ë¼ëŠ” í…Œì´ë¸”ì„ ë§Œë“¤ì–´ ì£¼ì—ˆìŠµë‹ˆë‹¤ 

```
mysql> SHOW TABLES;
+-------------------------+
| Tables_in_opemtutorials |
+-------------------------+
| author                  |
| topic                   |
+-------------------------+
2 rows in set (0.00 sec)
```
ì´ë ‡ê²Œ í™•ì¸ì´ ê°€ëŠ¥í•˜ê³  

```
mysql> SELECT * FROM topic;
+----+------------+-------------------+---------------------+-----------+
| id | title      | description       | created             | author_id |
+----+------------+-------------------+---------------------+-----------+
|  1 | MySQL      | MySQL is...       | 2018-01-01 12:10:11 |         1 |
|  2 | Oracle     | Oracle is ...     | 2018-01-03 13:01:10 |         1 |
|  3 | SQL Server | SQL Server is ... | 2018-01-20 11:01:10 |         2 |
|  4 | PostgreSQL | PostgreSQL is ... | 2018-01-23 01:03:03 |         3 |
|  5 | MongoDB    | MongoDB is ...    | 2018-01-30 12:31:03 |         1 |
+----+------------+-------------------+---------------------+-----------+
5 rows in set (0.00 sec)
```
ì´ë ‡ê²Œ topicì˜ ê°’ì´ ìˆê³  

```
mysql> SELECT * FROM author;
+----+--------+---------------------------+
| id | name   | profile                   |
+----+--------+---------------------------+
|  1 | egoing | developer                 |
|  2 | duru   | database administrator    |
|  3 | taeho  | data scientist, developer |
+----+--------+---------------------------+
3 rows in set (0.00 sec)
```
ì´ë ‡ê²Œ authorì˜ ê°’ì´ ìˆìŠµë‹ˆë‹¤ topicì˜ author_idì˜ ê°’ì€ authorì˜ idê°’ê³¼ ê°™ê²Œ í•´ì£¼ì—ˆê³  ì´ ë‘ í…Œì´ë¸”ì„ JOIN í•´ì„œ ë” ê°€ë…ì„± ìˆê²Œ ë§Œë“¤ì–´ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤ . 
ë‘ í…Œì´ë¸”ì„ ë‚˜ëˆ„ì–´ ë†“ì€ê²ƒì€ í•˜ë‚˜ì˜ í…Œì´ë¸”ë¡œë„ í‘œí˜„ í•  ìˆ˜ ìˆì§€ë§Œ ê·¸ë ‡ê²Œ ë  ê²½ìš°ì— ë§Œì•½ ë°ì´í„°ê°€ 1ì–µê°œë¼ë©´ ëª¨ë‘ í•˜ë‚˜í•˜ë‚˜ ìˆ˜ì •í•´ì•¼ í•˜ì§€ë§Œ í…Œì´ë¸”ì„ ë‘ê°œë¡œ ë‚˜ëˆ„ì–´ ë†“ì•˜ì„ ê²½ìš°ì—ëŠ” ê°’ì´ ë“¤ì–´ìˆëŠ” í…Œì´ë¸”ì—ì„œë§Œ ë°”ê¿”ì£¼ë©´ ê°™ì€ id ê°’ì„ ê°€ì§„ ë°ì´í„°ê°€ í•œë²ˆì— ë‹¤ ë°”ë€Œì–´ì„œ ë” ì‹œê°„ ë‹¨ì¶•ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ ë˜í•œ í…Œì´ë¸”ì„ ë‹¤ë¥¸ ê³³ì—ì„œ ì¬ì‚¬ìš©ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤ í•˜ì§€ë§Œ ì—¬ëŸ¬ê°œì˜ í…Œì´ë¸”ì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤. 

ì ê·¸ëŸ¼ ë‘ í…Œì´ë¸”ì„ í•©ì³ ë³´ê² ìŠµë‹ˆë‹¤ . 

```
SELECT * FROM topic LEFT JOIN author ON topic.author_id = author.id;
```
ì´ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ join í•´ì£¼ì—ˆìŠµë‹ˆë‹¤

```
mysql> SELECT * FROM topic LEFT JOIN author ON topic.author_id = author.id;
+----+------------+-------------------+---------------------+-----------+------+--------+---------------------------+
| id | title      | description       | created             | author_id | id   | name   | profile                   |
+----+------------+-------------------+---------------------+-----------+------+--------+---------------------------+
|  1 | MySQL      | MySQL is...       | 2018-01-01 12:10:11 |         1 |    1 | egoing | developer                 |
|  2 | Oracle     | Oracle is ...     | 2018-01-03 13:01:10 |         1 |    1 | egoing | developer                 |
|  3 | SQL Server | SQL Server is ... | 2018-01-20 11:01:10 |         2 |    2 | duru   | database administrator    |
|  4 | PostgreSQL | PostgreSQL is ... | 2018-01-23 01:03:03 |         3 |    3 | taeho  | data scientist, developer |
|  5 | MongoDB    | MongoDB is ...    | 2018-01-30 12:31:03 |         1 |    1 | egoing | developer                 |
+----+------------+-------------------+---------------------+-----------+------+--------+---------------------------+
5 rows in set (0.00 sec)
```

í•˜ì§€ë§Œ ì§€ê¸ˆ authorì˜ ë°ì´í„°ì™€ idë¼ëŠ” ë°ì´í„°ê°€ ë™ì‹œì— ë‚˜ì˜¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ìˆëŠ”ë° ì´ëŸ¬í•œ ê²ƒì„ ì—†ì• ê¸° ìœ„í•´ 

```
mysql> SELECT id,, title, description, created, name, profile  FROM topic LEFT JOIN author ON topic.author_id = author.id;
```
ì´ë ‡ê²Œ ì›í•˜ëŠ”ê²ƒë§Œ ë°›ì•„ì˜¤ëŠ” ëª…ë ¹ì–´ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤ í•˜ì§€ë§Œ ì´ë ‡ê²Œë§Œ ì“´ë‹¤ë©´ 
```
ERROR 1052 (23000): Column 'id' in field list is ambiguous
```
ì´ëŸ¬í•œ ì• ëŸ¬ë¥¼ ë§Œë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤ idê°’ì´ ëª¨í˜¸í•˜ë‹¤ëŠ” ê²ƒì¸ë° ì´ ëª…ë ¹ì–´ë¥¼ 


```
mysql> SELECT topic.id, title, description, created, name, profile  FROM topic LEFT JOIN author ON topic.author_id = author.id;
```
ì´ë ‡ê²Œ ë°”ê¾¸ì–´ì„œ ì ì–´ì£¼ë©´ 

```
+----+------------+-------------------+---------------------+--------+---------------------------+
| id | title      | description       | created             | name   | profile                   |
+----+------------+-------------------+---------------------+--------+---------------------------+
|  1 | MySQL      | MySQL is...       | 2018-01-01 12:10:11 | egoing | developer                 |
|  2 | Oracle     | Oracle is ...     | 2018-01-03 13:01:10 | egoing | developer                 |
|  3 | SQL Server | SQL Server is ... | 2018-01-20 11:01:10 | duru   | database administrator    |
|  4 | PostgreSQL | PostgreSQL is ... | 2018-01-23 01:03:03 | taeho  | data scientist, developer |
|  5 | MongoDB    | MongoDB is ...    | 2018-01-30 12:31:03 | egoing | developer                 |
+----+------------+-------------------+---------------------+--------+---------------------------+
5 rows in set (0.00 sec)
```
ì´ë ‡ê²Œ ê¹”ë”í•œ ë°ì´í„°ë¥¼ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ 